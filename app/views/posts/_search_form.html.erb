<%= search_form_for @q, class: 'mb-4' do |f| %>
  <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
    <!-- キーワード検索 -->
    <div>
      <%= f.label :body_or_shop_name_or_shop_address_or_user_name_cont, '検索ワード', class: 'block text-sm' %>
      <%= f.search_field :body_or_shop_name_or_shop_address_or_user_name_cont, 
          class: 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm',
          placeholder: 'キーワードを入力' %>
    </div>

    <!-- 並び替え -->
    <div>
      <%= f.label :s, '並び替え', class: 'block text-sm' %>
      <%= f.select :s,
          [['評価が高い順', 'overall_rating desc'], ['評価が低い順', 'overall_rating asc'], ['新しい順', 'created_at desc'], ['古い順', 'created_at asc']],
          { include_blank: '指定なし' },
          class: 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm' %>
    </div>

    <!-- 甘さでの絞り込み -->
    <div>
      <%= f.label :sweetness_eq, '甘さ', class: 'block text-sm' %>
      <%= f.select :sweetness_eq, 
          Post.sweetnesses.map { |k, v| [Post.human_attribute_name("sweetness.#{k}"), v] },
          { include_blank: '指定なし' },
          class: 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm' %>
    </div>

    <!-- 固さでの絞り込み -->
    <div>
      <%= f.label :firmness_eq, '固さ', class: 'block text-sm' %>
      <%= f.select :firmness_eq,
          Post.firmnesses.map { |k, v| [Post.human_attribute_name("firmness.#{k}"), v] },
          { include_blank: '指定なし' },
          class: 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm' %>
    </div>

    <!-- 総合評価での並び替え -->
    <div>
      <%= f.label :overall_rating_eq, '総合評価', class: 'block text-sm' %>
      <%= f.select :overall_rating_eq,
          Post.overall_ratings.map { |k, v| [Post.human_attribute_name("overall_rating.#{k}"), v] },
          { include_blank: '指定なし' },
          class: 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm' %>
    </div>
  </div>

  <div class="mt-4 flex justify-center">
    <%= f.submit '検索', class: 'inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2' %>
  </div>
<% end %>